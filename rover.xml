<!-- Download stl files from -->
<!-- https://github.com/Kinovarobotics/kinova-ros/kinova_description/meshes -->
<!-- and place them in a meshes folder in this directory -->
<mujoco model="rover">
    <compiler angle="radian" meshdir="meshes" balanceinertia="true"/>

    <default>
        <light castshadow="false" diffuse="1 1 1" />
        <camera fovy="60" />
        <geom contype="1" conaffinity="1" />
    </default>

    <!-- <visual> -->
    <!--     <map znear="0.003"/> -->
    <!-- </visual> -->

    <custom>
        <numeric name="START_ANGLES" data="0 0 0 0"/>
        <text name="google_id" data='None'/>
    </custom>

    <asset>
        <material name="blue_steel" specular="1" shininess="1" reflectance="1" rgba="0.1 0.125 0.15 1" emission="1" />
        <material name="light_grey" specular="0.5" shininess="0" reflectance="0" rgba="0.12 0.14 0.14 1" emission="1" />
        <material name="carbon" specular="1" shininess="1" reflectance="1" rgba="0.05 0.05 0.05 1" emission="1" />
        <material name="green" specular="1" shininess="1" reflectance="0" rgba="0.1 0.7 0.1 1" emission="1" />
        <material name="brown" specular="1" shininess="1" reflectance="0" rgba="0.396 0.263 0.03 1" emission="1" />
        <material name="blue" rgba="0.17 0.51 0.79 1"/>
    </asset>

    <contact>
        <exclude body1="FR_wheel" body2="FR_motor_box"/>
        <exclude body1="FL_wheel" body2="FL_motor_box"/>
        <exclude body1="RR_wheel" body2="RR_motor_box"/>
        <exclude body1="RL_wheel" body2="RL_motor_box"/>
    </contact>

    <worldbody>
        <geom name="floor" pos="0 0 -0.001" size="5 5 0.5" type="plane"/>
        <!-- Walls for debugging camera position -->
        <geom name='blue' pos="0 5 0" type="box" size="5 0.2 2.5" rgba="0 0 1 1"/>
        <geom name='yellow' pos="0 -5 0" type="box" size="5 0.2 2.5" rgba="1 1 0 1"/>
        <geom name='green' pos="5 0 0" type="box" size="0.2 5 2.5" rgba="0 1 0 1"/>
        <geom name='purple' pos="-5 0 0" type="box" size="0.2 5 2.5" rgba="1 0 1 1"/>
        <geom name='pillar1' pos="-5 0 0" type="box" size="0.3 0.3 5" rgba="1 1 1 1"/>
        <geom name='pillar2' pos="5 0 0" type="box" size="0.3 0.3 5" rgba="1 1 1 1"/>
        <geom name='pillar3' pos="0 5 0" type="box" size="0.3 0.3 5" rgba="1 1 1 1"/>
        <geom name='pillar4' pos="0 -5 0" type="box" size="0.3 0.3 5" rgba="1 1 1 1"/>

        <body pos="3 0 3">
            <camera mode="targetbody" target="base_link"/>
        </body>

        <!-- control visualizations -->
        <body name="hand" pos="0 0 -0.15" mocap="true">
            <geom type="box" size=".02 .04 .06" rgba="0 .9 0 .5" contype="2" conaffinity="2"/>
        </body>

        <body name="target" pos="0 0 -0.15" mocap="true">
            <geom name="target" type="sphere" size="0.05" rgba=".9 0 0 .5" contype="4" conaffinity="4"/>
        </body>

        <body name="obstacle" pos="0 0 -0.15" mocap="true">
            <geom type="sphere" size="0.05" rgba="0 0 1 1" contype="4" conaffinity="4"/>
        </body>

        <light directional="true" pos="-0.5 0.5 3" dir="0 0 -1" />

        <body name="base_link" pos="0 0 0.1">
            <!-- body -->
            <geom name="link0" type="box" size="0.15 0.08 0.03" pos="0 0 0.09" material="blue_steel"/>
            <camera name="vision1" pos="0 0 0.5" quat="0.50039816  0.49999984 -0.49999984 -0.49960184" fovy="90"/>
            <!-- <camera name="vision2" pos="0 0 0.5" quat="&#45;0.4996012  &#45;0.49920352 &#45;0.50079617 &#45;0.50039753" fovy="90"/> -->
            <!-- <!&#45;&#45; <camera name="vision2" pos="0 0 0.5" quat="&#38;#45;0.4996012  &#38;#45;0.49920352 &#38;#45;0.50079617 &#38;#45;0.50039753" fovy="90"/> &#45;&#45;> -->
            <!-- <camera name="vision2" pos="0 0 0.5" quat="&#45;0.4996012  &#45;0.49920352 &#45;0.50079617 &#45;0.50039753" fovy="90"/> -->

            <inertial pos="0 0 0.125" mass="5" diaginertia="0.25 0.25 0.25"/>
            <freejoint/>

            <!-- turning axl -->
            <body name="turning_axl" pos="-0.1 0 0.05">
                <geom name="turning_axl_cyl" type="cylinder" size="0.015 0.025" pos="0 0 0" material="light_grey" contype="2" conaffinity="2"/>
                <joint name="joint0" axis="0 0 1" pos="0 0 0" limited="true" range="-0.6 0.6"/>
                <!-- front axl -->
                <body name="front_axl" pos="0 0 -0.02">
                    <geom name="front_axl" type="cylinder" pos="0 0 0" material="blue_steel" size="0.015 0.15" euler="1.57 0 0"/>
                    <!-- front right axl -->
                    <body name="FR_axl_box" pos="0 0.12 0">
                        <geom name="FR_axl_box" type="box" size="0.025 0.015 0.025" pos="0 0 0" material="light_grey"/>
                        <!-- front right strut -->
                        <body name="FR_strut" pos="-0.025 0 -0.025">
                            <geom name="FR_strut" type="cylinder" pos="0 0 0" material="blue_steel" size="0.01 0.05" euler="0 0.785398 0"/>
                            <!-- front right motor box -->
                            <body name="FR_motor_box" pos="-0.04 0 -0.04">
                                <geom name="FR_motor_box" type="box" size="0.015 0.03 0.015" pos="0 0 0" material="light_grey" contype="2" conaffinity="2"/>
                                <!-- front right wheel -->
                                <body name="FR_wheel" pos="0 0.045 0">
                                    <geom name="FR_wheel" type="cylinder" pos="0 0 0" material="carbon" size="0.05 0.015" euler="1.57 0 0"/>
                                    <joint name="joint1" axis="0 -1 0" pos="0 0 0"/>
                                    <geom name="FR_hub" type="cylinder" pos="0 0.0151 0" material="light_grey" size="0.03 0.001" euler="1.57 0 0"/>
                                    <geom name="FR_nut1" type="cylinder" pos="0 0.0152 0.02" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="FR_nut2" type="cylinder" pos="0 0.0152 -0.02" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="FR_nut3" type="cylinder" pos="0.02 0.0152 0" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="FR_nut4" type="cylinder" pos="-0.02 0.0152 0" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                </body>
                            </body>
                        </body>
                    </body>
                    <!-- front left axl -->
                    <body name="FL_axl_box" pos="0 -0.12 0">
                        <geom name="FL_axl_box" type="box" size="0.025 0.015 0.025" pos="0 0 0" material="light_grey"/>
                        <!-- front left strut -->
                        <body name="FL_strut" pos="-0.025 0 -0.025">
                            <geom name="FL_strut" type="cylinder" pos="0 0 0" material="blue_steel" size="0.01 0.05" euler="0 0.785398 0"/>
                            <!-- front left motor box -->
                            <body name="FL_motor_box" pos="-0.04 0 -0.04">
                                <geom name="FL_motor_box" type="box" size="0.015 0.03 0.015" pos="0 0 0" material="light_grey" contype="2" conaffinity="2"/>
                                <!-- front left wheel -->
                                <body name="FL_wheel" pos="0 -0.045 0">
                                    <geom name="FL_wheel" type="cylinder" pos="0 0 0" material="carbon" size="0.05 0.015" euler="1.57 0 0"/>
                                    <joint name="joint2" axis="0 -1 0" pos="0 0 0"/>
                                    <geom name="FL_hub" type="cylinder" pos="0 -0.0151 0" material="light_grey" size="0.03 0.001" euler="1.57 0 0"/>
                                    <geom name="FL_nut1" type="cylinder" pos="0 -0.0152 0.02" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="FL_nut2" type="cylinder" pos="0 -0.0152 -0.02" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="FL_nut3" type="cylinder" pos="0.02 -0.0152 0" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="FL_nut4" type="cylinder" pos="-0.02 -0.0152 0" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
            </body>

            <!-- rear axl -->
            <body name="static_axl" pos="0.1 0 0.05">
                <geom name="static_axl_cyl" type="cylinder" size="0.015 0.025" pos="0 0 0" material="light_grey" contype="2" conaffinity="2"/>
                <body name="rear_axl" pos="0 0 -0.02">
                    <geom name="rear_axl" type="cylinder" pos="0 0 0" material="blue_steel" size="0.015 0.15" euler="1.57 0 0"/>
                    <!-- rear right axl -->
                    <body name="RR_axl_box" pos="0 0.12 0">
                        <geom name="RR_axl_box" type="box" size="0.025 0.015 0.025" pos="0 0 0" material="light_grey"/>
                        <!-- rear right strut -->
                        <body name="RR_strut" pos="0.025 0 -0.025">
                            <geom name="RR_strut" type="cylinder" pos="0 0 0" material="blue_steel" size="0.01 0.05" euler="0 2.356194 0"/>
                            <!-- rear right motor box -->
                            <body name="RR_motor_box" pos="0.04 0 -0.04">
                                <geom name="RR_motor_box" type="box" size="0.015 0.03 0.015" pos="0 0 0" material="light_grey" contype="2" conaffinity="2"/>
                                <!-- rear right wheel -->
                                <body name="RR_wheel" pos="0 0.045 0">
                                    <geom name="RR_wheel" type="cylinder" pos="0 0 0" material="carbon" size="0.05 0.015" euler="1.57 0 0"/>
                                    <joint name="joint3" axis="0 -1 0" pos="0 0 0"/>
                                    <geom name="RR_hub" type="cylinder" pos="0 0.0151 0" material="light_grey" size="0.03 0.001" euler="1.57 0 0"/>
                                    <geom name="RR_nut1" type="cylinder" pos="0 0.0152 0.02" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="RR_nut2" type="cylinder" pos="0 0.0152 -0.02" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="RR_nut3" type="cylinder" pos="0.02 0.0152 0" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="RR_nut4" type="cylinder" pos="-0.02 0.0152 0" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                </body>
                            </body>
                        </body>
                    </body>
                    <!-- rear left axl -->
                    <body name="RL_axl_box" pos="0 -0.12 0">
                        <geom name="RL_axl_box" type="box" size="0.025 0.015 0.025" pos="0 0 0" material="light_grey"/>
                        <!-- rear left strut -->
                        <body name="RL_strut" pos="0.025 0 -0.025">
                            <geom name="RL_strut" type="cylinder" pos="0 0 0" material="blue_steel" size="0.01 0.05" euler="0 2.356194 0"/>
                            <!-- rear left motor box -->
                            <body name="RL_motor_box" pos="0.04 0 -0.04">
                                <geom name="RL_motor_box" type="box" size="0.015 0.03 0.015" pos="0 0 0" material="light_grey" contype="2" conaffinity="2"/>
                                <!-- rear left wheel -->
                                <body name="RL_wheel" pos="0 -0.045 0">
                                    <geom name="RL_wheel" type="cylinder" pos="0 0 0" material="carbon" size="0.05 0.015" euler="1.57 0 0"/>
                                    <joint name="joint4" axis="0 -1 0" pos="0 0 0"/>
                                    <geom name="RL_hub" type="cylinder" pos="0 -0.0151 0" material="light_grey" size="0.03 0.001" euler="1.57 0 0"/>
                                    <geom name="RL_nut1" type="cylinder" pos="0 -0.0152 0.02" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="RL_nut2" type="cylinder" pos="0 -0.0152 -0.02" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="RL_nut3" type="cylinder" pos="0.02 -0.0152 0" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                    <geom name="RL_nut4" type="cylinder" pos="-0.02 -0.0152 0" material="blue_steel" size="0.005 0.001" euler="1.57 0 0"/>
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
            </body>

            <body name="EE" pos="0 0 0.1" euler="0 0 0">
            </body>

        </body>

    </worldbody>

    <actuator>
        <motor name="Turn" joint="joint0"/>
        <motor name="BR_motor" joint="joint3"/>
        <motor name="BL_motor" joint="joint4"/>
    </actuator>

</mujoco>
